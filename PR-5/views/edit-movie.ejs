<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Add Movie</title>

    <!-- Link CSS -->
    <link rel="stylesheet" href="../css/add.movie.css">
    <link rel="stylesheet" href="../css/style.css">

</head>

<body>
    <%- include('header.ejs') %>
        <center class="form-wrapper">
            <div class="form-container">
                <h2>➕ Edit Movie</h2>

                <form action="/update-movie/<%=movie._id%>" method="post" enctype="multipart/form-data">
                    <label>Movie Title</label>
                    <input type="text" name="title" value="<%=movie.title%>" placeholder="Enter movie title" required>

                    <label>Genre</label>
                    <select name="genre" required>
                        <option value="">-- Select Genre --</option>

                        <option value="Action" <%=movie.genre==="Action" ? "selected" : "" %>>
                            Action
                        </option>

                        <option value="Drama" <%=movie.genre==="Drama" ? "selected" : "" %>>
                            Drama
                        </option>

                        <option value="Comedy" <%=movie.genre==="Comedy" ? "selected" : "" %>>
                            Comedy
                        </option>

                        <option value="Romance" <%=movie.genre==="Romance" ? "selected" : "" %>>
                            Romance
                        </option>

                        <option value="Horror" <%=movie.genre==="Horror" ? "selected" : "" %>>
                            Horror
                        </option>

                        <option value="Sci-Fi" <%=movie.genre==="Sci-Fi" ? "selected" : "" %>>
                            Sci-Fi
                        </option>
                    </select>


                    <label>Release Year</label>
                    <input type="text" name="year" value="<%=movie.year%>" maxlength="4" pattern="^(18[8-9][0-9]|19[0-9]{2}|20[0-2][0-9]|2025)$"
                        placeholder="2025" required>



                    <label>Rating</label>
                    <select name="rating" required>
                        <option value="">-- Select Rating --</option>

                        <option value="1" <%=movie.rating==1 ? "selected" : "" %>>⭐ 1</option>
                        <option value="2" <%=movie.rating==2 ? "selected" : "" %>>⭐⭐ 2</option>
                        <option value="3" <%=movie.rating==3 ? "selected" : "" %>>⭐⭐⭐ 3</option>
                        <option value="4" <%=movie.rating==4 ? "selected" : "" %>>⭐⭐⭐⭐ 4</option>
                        <option value="5" <%=movie.rating==5 ? "selected" : "" %>>⭐⭐⭐⭐⭐ 5</option>
                    </select>



                    <label>Description</label>
                    <textarea name="description" rows="3"
                        placeholder="Movie description"><%= movie.description %></textarea>

                    <label>Image</label>
                    <input type="file" name="ProfileImage">
                    <img src="<%=movie.ProfileImage%>" alt="Movie Image" width="150">

                    <div class="btn-group">
                        <button type="submit" class="submit-btn">Submit</button>
                    </div>
                </form>
            </div>
        </center>
        <%- include('footer.ejs') %>
</body>

</html>